"use strict";(self.webpackChunkimdeepmind=self.webpackChunkimdeepmind||[]).push([[3969],{85868:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>a,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"databases/database-engineering/indexes","title":"Indexes","description":"Database indexes are fundamental to database performance optimization. They allow for quick data retrieval by minimizing the amount of data the database system has to scan. Without indexes, databases would need to perform a full table scan for every query, which is inefficient for large datasets. Indexes are widely used in relational databases such as PostgreSQL, MySQL, and Oracle to enhance the performance of queries involving search, filtering, sorting, and joins.","source":"@site/docs/databases/database-engineering/indexes.md","sourceDirName":"databases/database-engineering","slug":"/databases/database-engineering/indexes","permalink":"/docs/databases/database-engineering/indexes","draft":false,"unlisted":false,"editUrl":"https://github.com/imdeepmind/imdeepmind.github.io/blob/main/docs/databases/database-engineering/indexes.md","tags":[],"version":"current","lastUpdatedBy":"Abhishek Chatterjee","lastUpdatedAt":1735294169000,"sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Database Locking","permalink":"/docs/databases/database-engineering/locks"},"next":{"title":"Query Optimization","permalink":"/docs/databases/database-engineering/query-optimization"}}');var l=s(74848),r=s(28453);const d={sidebar_position:6},a="Indexes",t={},c=[{value:"What Is a Database Index?",id:"what-is-a-database-index",level:2},{value:"How Indexes Work (Brief Overview)",id:"how-indexes-work-brief-overview",level:2},{value:"B-Tree vs Hash Table",id:"b-tree-vs-hash-table",level:2},{value:"B-Tree Index",id:"b-tree-index",level:3},{value:"Hash Table Index",id:"hash-table-index",level:3},{value:"Comparison Table",id:"comparison-table",level:3},{value:"Index Types",id:"index-types",level:2},{value:"Single-Column Index",id:"single-column-index",level:3},{value:"Composite Index",id:"composite-index",level:3},{value:"Unique Index",id:"unique-index",level:3},{value:"Primary Key Index",id:"primary-key-index",level:3},{value:"Clustered Index",id:"clustered-index",level:3},{value:"Non-Clustered Index",id:"non-clustered-index",level:3},{value:"Full-Text Index",id:"full-text-index",level:3},{value:"Partial Index",id:"partial-index",level:3},{value:"Hash Index",id:"hash-index",level:3},{value:"Bitmap Index",id:"bitmap-index",level:3},{value:"Other Niche Indexes",id:"other-niche-indexes",level:3},{value:"Expression Index",id:"expression-index",level:4},{value:"GiST (Generalized Search Tree) Index",id:"gist-generalized-search-tree-index",level:4},{value:"SP-GiST (Space-Partitioned GiST) Index",id:"sp-gist-space-partitioned-gist-index",level:4},{value:"BRIN (Block Range INdex)",id:"brin-block-range-index",level:4},{value:"Covering Index (Included Columns)",id:"covering-index-included-columns",level:4},{value:"Function-Based Index",id:"function-based-index",level:4},{value:"How to Choose the Right Index",id:"how-to-choose-the-right-index",level:3},{value:"How to Add Indexes (PostgreSQL)",id:"how-to-add-indexes-postgresql",level:2},{value:"Types of Index Scans in PostgreSQL",id:"types-of-index-scans-in-postgresql",level:2},{value:"Sequential Scan (Seq Scan)",id:"sequential-scan-seq-scan",level:3},{value:"Index Scan",id:"index-scan",level:3},{value:"Bitmap Index Scan",id:"bitmap-index-scan",level:3},{value:"Table Scan (Heap Scan)",id:"table-scan-heap-scan",level:3},{value:"Index Only Scan",id:"index-only-scan",level:3},{value:"Advantages of Indexes",id:"advantages-of-indexes",level:2},{value:"Disadvantages of Indexes",id:"disadvantages-of-indexes",level:2},{value:"How to View Index Usage (PostgreSQL)",id:"how-to-view-index-usage-postgresql",level:2},{value:"Maintaining Indexes",id:"maintaining-indexes",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"indexes",children:"Indexes"})}),"\n",(0,l.jsx)(n.p,{children:"Database indexes are fundamental to database performance optimization. They allow for quick data retrieval by minimizing the amount of data the database system has to scan. Without indexes, databases would need to perform a full table scan for every query, which is inefficient for large datasets. Indexes are widely used in relational databases such as PostgreSQL, MySQL, and Oracle to enhance the performance of queries involving search, filtering, sorting, and joins."}),"\n",(0,l.jsx)(n.h2,{id:"what-is-a-database-index",children:"What Is a Database Index?"}),"\n",(0,l.jsx)(n.p,{children:'A database index is a separate data structure that stores a mapping of column values to the physical location of rows in the table. It acts like a "lookup table" for the database, enabling it to quickly locate rows matching specific criteria.'}),"\n",(0,l.jsxs)(n.p,{children:["Indexes are typically implemented using ",(0,l.jsx)(n.strong,{children:"B-Trees"}),", ",(0,l.jsx)(n.strong,{children:"hash tables"}),", or other optimized data structures. When a query references a column that has an index, the database uses the index to quickly identify the rows of interest instead of scanning the entire table."]}),"\n",(0,l.jsx)(n.h2,{id:"how-indexes-work-brief-overview",children:"How Indexes Work (Brief Overview)"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"When an index is created on a column, the database builds a data structure (like a B-Tree or a hash table) that maps column values to the physical locations of rows in the table."}),"\n",(0,l.jsx)(n.li,{children:"The index stores sorted values of the indexed column(s) along with pointers to the rows where the values are found."}),"\n",(0,l.jsx)(n.li,{children:"For queries involving indexed columns, the database uses the index to efficiently locate rows, rather than scanning the entire table."}),"\n",(0,l.jsx)(n.li,{children:"For multi-column indexes (composite indexes), the order of columns in the index affects performance based on the query patterns."}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"b-tree-vs-hash-table",children:"B-Tree vs Hash Table"}),"\n",(0,l.jsxs)(n.p,{children:["Indexes are crucial for optimizing database queries, and the two widely used index structures are ",(0,l.jsx)(n.strong,{children:"B-Tree"})," and ",(0,l.jsx)(n.strong,{children:"Hash Table"}),". Here's a concise comparison:"]}),"\n",(0,l.jsx)(n.h3,{id:"b-tree-index",children:"B-Tree Index"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Structure"}),": Balanced tree with sorted data."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Best For"}),": Range queries (",(0,l.jsx)(n.code,{children:"BETWEEN"}),", ",(0,l.jsx)(n.code,{children:"<"}),", ",(0,l.jsx)(n.code,{children:">"}),", etc.) and ordered results."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Features"}),":","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Supports both equality (",(0,l.jsx)(n.code,{children:"="}),") and range queries."]}),"\n",(0,l.jsx)(n.li,{children:"Allows ordered traversal and efficient sorting."}),"\n",(0,l.jsxs)(n.li,{children:["Logarithmic (",(0,l.jsx)(n.code,{children:"O(log n)"}),") performance for lookups."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example"}),":","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_btree_salary ON employees(salary);\nSELECT * FROM employees WHERE salary BETWEEN 50000 AND 100000;\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"hash-table-index",children:"Hash Table Index"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Structure"}),": Hash function maps keys to slots."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Best For"}),": Exact-match lookups (",(0,l.jsx)(n.code,{children:"="}),")."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Features"}),":","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Optimized for equality queries."}),"\n",(0,l.jsxs)(n.li,{children:["Faster constant-time (",(0,l.jsx)(n.code,{children:"O(1)"}),") lookups but no range support."]}),"\n",(0,l.jsx)(n.li,{children:"Cannot handle sorting or ordering."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example"}),":","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_hash_username ON employees USING hash(username);\nSELECT * FROM employees WHERE username = 'abhishek123';\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"comparison-table",children:"Comparison Table"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:(0,l.jsx)(n.strong,{children:"Aspect"})}),(0,l.jsx)(n.th,{children:(0,l.jsx)(n.strong,{children:"B-Tree Index"})}),(0,l.jsx)(n.th,{children:(0,l.jsx)(n.strong,{children:"Hash Table Index"})})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Query Support"})}),(0,l.jsxs)(n.td,{children:["Equality + Range (",(0,l.jsx)(n.code,{children:"="}),", ",(0,l.jsx)(n.code,{children:"<"}),", ",(0,l.jsx)(n.code,{children:">"}),", ",(0,l.jsx)(n.code,{children:"BETWEEN"}),")"]}),(0,l.jsxs)(n.td,{children:["Equality only (",(0,l.jsx)(n.code,{children:"="}),")"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Sorting"})}),(0,l.jsx)(n.td,{children:"Supports ordered traversal"}),(0,l.jsx)(n.td,{children:"No sorting"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Performance"})}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"O(log n)"})," for lookups"]}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"O(1)"})," for exact matches"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Use Case"})}),(0,l.jsx)(n.td,{children:"General-purpose indexing"}),(0,l.jsx)(n.td,{children:"Optimized for exact-match lookups"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Range Queries"})}),(0,l.jsx)(n.td,{children:"Supported"}),(0,l.jsx)(n.td,{children:"Not supported"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Space Efficiency"})}),(0,l.jsx)(n.td,{children:"Higher due to tree structure"}),(0,l.jsx)(n.td,{children:"Compact"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Collisions"})}),(0,l.jsx)(n.td,{children:"Not applicable"}),(0,l.jsx)(n.td,{children:"Possible hash collisions"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"index-types",children:"Index Types"}),"\n",(0,l.jsx)(n.p,{children:"Indexes in databases are specialized data structures that optimize query performance by enabling fast data retrieval. They can be broadly categorized based on their structure, functionality, and use cases. Below are the most common types of database indexes:"}),"\n",(0,l.jsx)(n.h3,{id:"single-column-index",children:"Single-Column Index"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description"}),": An index created on a single column of a table."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use Case"}),": Speeds up queries that filter or sort by a single column."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example (PostgreSQL)"}),":","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_employee_id ON employees(employee_id);\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"composite-index",children:"Composite Index"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description"}),": An index created on multiple columns of a table."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use Case"}),": Improves performance for queries that involve filtering or sorting on multiple columns."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example"}),":","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_name_dept ON employees(last_name, department_id);\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Note"}),": The order of columns in a composite index matters. For example, the above index is useful for queries that filter by ",(0,l.jsx)(n.code,{children:"last_name"})," or by both ",(0,l.jsx)(n.code,{children:"last_name"})," and ",(0,l.jsx)(n.code,{children:"department_id"}),", but not for filtering solely by ",(0,l.jsx)(n.code,{children:"department_id"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"unique-index",children:"Unique Index"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description"}),": Ensures that all values in the indexed column(s) are unique."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use Case"}),": Used to enforce uniqueness constraints (e.g., on primary keys or email addresses)."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example"}),":","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE UNIQUE INDEX idx_unique_email ON employees(email);\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"primary-key-index",children:"Primary Key Index"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description"}),": Automatically created when a ",(0,l.jsx)(n.code,{children:"PRIMARY KEY"})," constraint is defined. It is a unique index."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use Case"}),": Enforces the uniqueness and non-nullability of the primary key column(s)."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example"}),":","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE employees ADD PRIMARY KEY (employee_id);\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"clustered-index",children:"Clustered Index"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description"}),": Determines the physical order of data in the table. A table can have only one clustered index."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use Case"}),": Optimizes range queries and queries requiring ordered results."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example"})," (PostgreSQL uses ",(0,l.jsx)(n.code,{children:"PRIMARY KEY"})," or ",(0,l.jsx)(n.code,{children:"UNIQUE"})," constraints to create clustered indexes):","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_ordered_employees ON employees(employee_id);\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"non-clustered-index",children:"Non-Clustered Index"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description"}),": Does not affect the physical order of data in the table. Stores pointers to the rows in a separate data structure."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use Case"}),": Useful for columns frequently queried but not requiring data to be stored in order."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example"}),":","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_lastname ON employees(last_name);\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"full-text-index",children:"Full-Text Index"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description"}),": Optimized for searching large text fields."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use Case"}),": Used for full-text search in applications like search engines."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example"}),":","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_fulltext_description ON products USING gin(to_tsvector('english', description));\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"partial-index",children:"Partial Index"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description"}),": Indexes only a subset of rows based on a condition."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use Case"}),": Reduces index size and improves performance by indexing only frequently queried rows."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example"}),":","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_active_employees ON employees(employee_id) WHERE status = 'active';\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"hash-index",children:"Hash Index"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description"}),": Uses a hash table for indexing. Only supports equality comparisons (",(0,l.jsx)(n.code,{children:"="}),")."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use Case"}),": Efficient for equality searches but not for range queries."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example"}),":","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_hash_username ON users USING hash(username);\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"bitmap-index",children:"Bitmap Index"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description"}),": Uses bitmaps to represent data. Often used in data warehouses."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use Case"}),": Efficient for queries with low cardinality columns (e.g., ",(0,l.jsx)(n.code,{children:"gender"})," with values ",(0,l.jsx)(n.code,{children:"M"})," and ",(0,l.jsx)(n.code,{children:"F"}),")."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example"}),": PostgreSQL does not support creating bitmap indexes directly, but bitmap scans are used internally for certain queries."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"other-niche-indexes",children:"Other Niche Indexes"}),"\n",(0,l.jsx)(n.h4,{id:"expression-index",children:"Expression Index"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description"}),": Indexes the result of an expression or function."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use Case"}),": Optimizes queries involving calculated or derived values."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example"}),":","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_lowercase_email ON employees(LOWER(email));\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"gist-generalized-search-tree-index",children:"GiST (Generalized Search Tree) Index"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description"}),": Supports complex queries like range searches, proximity searches, and custom data types."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use Case"}),": Often used for spatial and full-text search."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example"}),":","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_gist_location ON locations USING gist(geom);\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"sp-gist-space-partitioned-gist-index",children:"SP-GiST (Space-Partitioned GiST) Index"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description"}),": A variant of GiST optimized for partitioned or hierarchical data."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use Case"}),": Suitable for range queries on data with natural partitions."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example"}),":","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_spgist_coordinates ON locations USING spgist(coordinates);\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"brin-block-range-index",children:"BRIN (Block Range INdex)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description"}),": Stores summaries of ranges of physical blocks. Designed for large datasets where the data is naturally ordered."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use Case"}),": Optimizes queries for large, sequentially stored data, such as time-series data."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example"}),":","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_brin_timestamp ON logs USING brin(timestamp);\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"covering-index-included-columns",children:"Covering Index (Included Columns)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description"}),": Stores additional non-indexed columns in the index for faster retrieval."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use Case"}),": Avoids accessing the table when retrieving indexed and additional columns."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example"})," (PostgreSQL doesn\u2019t support included columns directly, but it can be emulated with composite indexes):","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_employee_id_name ON employees(employee_id, first_name);\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"function-based-index",children:"Function-Based Index"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description"}),": Similar to expression indexes, but focuses on the results of database functions."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use Case"}),": Optimizes queries where a function is applied to a column."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example"}),":","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_monthly_salary ON employees(salary * 12);\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"how-to-choose-the-right-index",children:"How to Choose the Right Index"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Use single-column indexes for simple equality or range queries."}),"\n",(0,l.jsx)(n.li,{children:"Use composite indexes for queries involving multiple columns."}),"\n",(0,l.jsx)(n.li,{children:"Use partial indexes for queries on a subset of rows."}),"\n",(0,l.jsx)(n.li,{children:"Use full-text indexes for large text searches."}),"\n",(0,l.jsx)(n.li,{children:"Avoid indexing columns with low cardinality unless necessary."}),"\n",(0,l.jsx)(n.li,{children:"Regularly monitor and maintain indexes to prevent fragmentation."}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"how-to-add-indexes-postgresql",children:"How to Add Indexes (PostgreSQL)"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Basic Syntax"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX index_name ON table_name(column_name);\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Examples"}),":"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Single-Column Index"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_employee_id ON employees(employee_id);\n"})}),"\n",(0,l.jsxs)(n.p,{children:["This index speeds up queries filtering by ",(0,l.jsx)(n.code,{children:"employee_id"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Composite Index"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_name_dept ON employees(last_name, department_id);\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Useful for queries filtering on both ",(0,l.jsx)(n.code,{children:"last_name"})," and ",(0,l.jsx)(n.code,{children:"department_id"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Unique Index"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE UNIQUE INDEX idx_unique_email ON employees(email);\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Ensures that no duplicate emails exist in the ",(0,l.jsx)(n.code,{children:"employees"})," table."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Partial Index"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_active_employees ON employees(employee_id) WHERE status = 'active';\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Only indexes rows where ",(0,l.jsx)(n.code,{children:"status"})," is 'active', saving space and improving performance for specific queries."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Full-Text Index"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_fulltext_description ON products USING gin(to_tsvector('english', description));\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Optimizes full-text search on the ",(0,l.jsx)(n.code,{children:"description"})," column."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Hash Index"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_hash_username ON users USING hash(username);\n"})}),"\n",(0,l.jsx)(n.p,{children:"Useful for equality comparisons but not for range queries."}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"types-of-index-scans-in-postgresql",children:"Types of Index Scans in PostgreSQL"}),"\n",(0,l.jsx)(n.p,{children:"When a query is executed, the database query planner decides how to use the indexes and scans the data. The most common types of scans are:"}),"\n",(0,l.jsx)(n.h3,{id:"sequential-scan-seq-scan",children:"Sequential Scan (Seq Scan)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"The database reads every row of the table sequentially."}),"\n",(0,l.jsx)(n.li,{children:"Used when no relevant index exists or for very small tables."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example"}),":","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"EXPLAIN SELECT * FROM employees WHERE department_id = 10;\n"})}),"\n","If no index exists on ",(0,l.jsx)(n.code,{children:"department_id"}),", a sequential scan is performed."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"index-scan",children:"Index Scan"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"The database uses an index to directly find the rows that satisfy the query."}),"\n",(0,l.jsx)(n.li,{children:"It retrieves rows from the index and accesses the table for additional data."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example"}),":","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"EXPLAIN SELECT * FROM employees WHERE employee_id = 123;\n"})}),"\n","If an index exists on ",(0,l.jsx)(n.code,{children:"employee_id"}),", an index scan is performed."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"bitmap-index-scan",children:"Bitmap Index Scan"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Combines results from multiple indexes and retrieves rows in batches for efficiency."}),"\n",(0,l.jsx)(n.li,{children:"Used when multiple conditions in a query reference different indexes."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example"}),":","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"EXPLAIN SELECT * FROM employees WHERE department_id = 10 AND last_name = 'Smith';\n"})}),"\n","If indexes exist on both ",(0,l.jsx)(n.code,{children:"department_id"})," and ",(0,l.jsx)(n.code,{children:"last_name"}),", a bitmap index scan may be used."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"table-scan-heap-scan",children:"Table Scan (Heap Scan)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Occurs when the database reads the data from the table directly without using any index."}),"\n",(0,l.jsx)(n.li,{children:"This happens when retrieving all rows or when the query planner determines it is more efficient than using an index."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"index-only-scan",children:"Index Only Scan"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"The database retrieves all the required data directly from the index, without accessing the table."}),"\n",(0,l.jsx)(n.li,{children:"This is possible when the index contains all the columns referenced in the query."}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"advantages-of-indexes",children:"Advantages of Indexes"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Improved Query Performance"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Significantly speeds up queries, especially those with ",(0,l.jsx)(n.code,{children:"WHERE"}),", ",(0,l.jsx)(n.code,{children:"JOIN"}),", ",(0,l.jsx)(n.code,{children:"ORDER BY"}),", and ",(0,l.jsx)(n.code,{children:"GROUP BY"}),"."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Efficient Sorting and Filtering"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Optimizes operations involving sorting and filtering of data."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Reduced Query Execution Time"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"For large datasets, indexes eliminate the need for full table scans."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Support for Constraints"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Automatically created for ",(0,l.jsx)(n.code,{children:"PRIMARY KEY"})," and ",(0,l.jsx)(n.code,{children:"UNIQUE"})," constraints to enforce data integrity."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"disadvantages-of-indexes",children:"Disadvantages of Indexes"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Storage Overhead"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Indexes require additional disk space, which can be substantial for large tables."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Slower Write Operations"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Insert, update, and delete operations become slower because the indexes must be updated along with the table."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Index Maintenance"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Indexes need to be maintained and rebuilt periodically, especially for heavily updated tables."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Over-Indexing"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Creating too many indexes can lead to high storage and maintenance costs."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"how-to-view-index-usage-postgresql",children:"How to View Index Usage (PostgreSQL)"}),"\n",(0,l.jsxs)(n.p,{children:["PostgreSQL provides tools to analyze whether indexes are being used by queries. Use the ",(0,l.jsx)(n.code,{children:"EXPLAIN"})," or ",(0,l.jsx)(n.code,{children:"EXPLAIN ANALYZE"})," command to inspect query execution plans."]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"EXPLAIN ANALYZE SELECT * FROM employees WHERE employee_id = 123;\n"})}),"\n",(0,l.jsxs)(n.p,{children:["If an index exists on ",(0,l.jsx)(n.code,{children:"employee_id"}),", the output will show whether the query uses an ",(0,l.jsx)(n.strong,{children:"Index Scan"}),", ",(0,l.jsx)(n.strong,{children:"Bitmap Index Scan"}),", or ",(0,l.jsx)(n.strong,{children:"Seq Scan"}),"."]}),"\n",(0,l.jsx)(n.h2,{id:"maintaining-indexes",children:"Maintaining Indexes"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Rebuilding Indexes"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Over time, indexes can become fragmented, reducing performance. Use ",(0,l.jsx)(n.code,{children:"REINDEX"})," to rebuild them."]}),"\n",(0,l.jsxs)(n.li,{children:["Example:","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"REINDEX INDEX idx_employee_id;\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Dropping Unused Indexes"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Unused indexes consume space and slow down write operations."}),"\n",(0,l.jsxs)(n.li,{children:["Example:","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"DROP INDEX idx_employee_id;\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>a});var i=s(96540);const l={},r=i.createContext(l);function d(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);