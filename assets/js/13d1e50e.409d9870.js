"use strict";(self.webpackChunkimdeepmind=self.webpackChunkimdeepmind||[]).push([[9113],{7162:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"networking/protocols/layer-7/mqtt-amqp","title":"MQTT and AMQP","description":"MQTT (Message Queuing Telemetry Transport) and AMQP (Advanced Message Queuing Protocol) are two widely used messaging protocols in distributed systems. Both facilitate communication between devices, applications, and systems, but they are designed with different use cases and requirements in mind.","source":"@site/docs/networking/protocols/layer-7/mqtt-amqp.md","sourceDirName":"networking/protocols/layer-7","slug":"/networking/protocols/layer-7/mqtt-amqp","permalink":"/docs/networking/protocols/layer-7/mqtt-amqp","draft":false,"unlisted":false,"editUrl":"https://github.com/imdeepmind/imdeepmind.github.io/blob/main/docs/networking/protocols/layer-7/mqtt-amqp.md","tags":[],"version":"current","lastUpdatedBy":"Abhishek Chatterjee","lastUpdatedAt":1752915828000,"sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"FTP","permalink":"/docs/networking/protocols/layer-7/ftp"},"next":{"title":"RESTful","permalink":"/docs/networking/protocols/layer-7/rest"}}');var r=s(74848),l=s(28453);const t={sidebar_position:7},d="MQTT and AMQP",o={},c=[{value:"MQTT (Message Queuing Telemetry Transport)",id:"mqtt-message-queuing-telemetry-transport",level:2},{value:"Overview",id:"overview",level:3},{value:"Key Features",id:"key-features",level:3},{value:"How MQTT Works",id:"how-mqtt-works",level:3},{value:"Example Services Using MQTT",id:"example-services-using-mqtt",level:3},{value:"Pros and Cons of MQTT",id:"pros-and-cons-of-mqtt",level:3},{value:"AMQP (Advanced Message Queuing Protocol)",id:"amqp-advanced-message-queuing-protocol",level:2},{value:"Overview",id:"overview-1",level:3},{value:"Key Features",id:"key-features-1",level:3},{value:"How AMQP Works",id:"how-amqp-works",level:3},{value:"Example Services Using AMQP",id:"example-services-using-amqp",level:3},{value:"Pros and Cons of AMQP",id:"pros-and-cons-of-amqp",level:3},{value:"Comparison of MQTT and AMQP",id:"comparison-of-mqtt-and-amqp",level:2},{value:"Choosing Between MQTT and AMQP",id:"choosing-between-mqtt-and-amqp",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"mqtt-and-amqp",children:"MQTT and AMQP"})}),"\n",(0,r.jsx)(n.p,{children:"MQTT (Message Queuing Telemetry Transport) and AMQP (Advanced Message Queuing Protocol) are two widely used messaging protocols in distributed systems. Both facilitate communication between devices, applications, and systems, but they are designed with different use cases and requirements in mind."}),"\n",(0,r.jsx)(n.h2,{id:"mqtt-message-queuing-telemetry-transport",children:"MQTT (Message Queuing Telemetry Transport)"}),"\n",(0,r.jsx)(n.h3,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"MQTT is a lightweight, publish/subscribe messaging protocol optimized for low-bandwidth, high-latency, and unreliable networks. It is widely used in Internet of Things (IoT) applications where devices often operate under constrained conditions."}),"\n",(0,r.jsx)(n.h3,{id:"key-features",children:"Key Features"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Publish/Subscribe Model:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Communication is decoupled between publishers (data producers) and subscribers (data consumers) through a central broker."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Lightweight:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Designed to minimize network bandwidth and device resource usage, making it suitable for constrained environments."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"QoS Levels:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Offers three Quality of Service levels to balance reliability and performance:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"QoS 0:"})," At most once delivery (fire-and-forget)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"QoS 1:"})," At least once delivery (possible duplicates)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"QoS 2:"})," Exactly once delivery (highest reliability)."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Retained Messages:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Allows the broker to store the last message on a topic and deliver it to new subscribers upon subscription."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Last Will and Testament (LWT):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Notifies subscribers of a client\u2019s unexpected disconnection."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Small Packet Overhead:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"MQTT's minimal header size makes it ideal for bandwidth-constrained networks."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"how-mqtt-works",children:"How MQTT Works"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Broker:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Centralized server that manages communication between publishers and subscribers."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Topics:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["MQTT organizes messages by hierarchical topics (e.g., ",(0,r.jsx)(n.code,{children:"home/sensor/temperature"}),")."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Connection Establishment:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A client establishes a connection with the broker using a persistent TCP connection (typically on port 1883 or 8883 for secure communication)."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Message Flow:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Publish:"})," Devices send messages to the broker under specific topics."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Subscribe:"})," Devices subscribe to topics of interest to receive messages."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"example-services-using-mqtt",children:"Example Services Using MQTT"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"AWS IoT Core:"})," Manages communication between IoT devices."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"IBM Watson IoT Platform:"})," Provides MQTT-based IoT connectivity."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Adafruit IO:"})," Platform for IoT projects supporting MQTT."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"pros-and-cons-of-mqtt",children:"Pros and Cons of MQTT"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Pros:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Lightweight protocol suitable for resource-constrained devices."}),"\n",(0,r.jsx)(n.li,{children:"Flexible publish/subscribe model."}),"\n",(0,r.jsx)(n.li,{children:"Efficient for low-bandwidth networks."}),"\n",(0,r.jsx)(n.li,{children:"Supports offline message delivery with retained messages."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Cons:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Limited routing capabilities compared to AMQP."}),"\n",(0,r.jsx)(n.li,{children:"Relies on a single broker, which can become a single point of failure."}),"\n",(0,r.jsx)(n.li,{children:"Less feature-rich in terms of advanced message processing and metadata."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"amqp-advanced-message-queuing-protocol",children:"AMQP (Advanced Message Queuing Protocol)"}),"\n",(0,r.jsx)(n.h3,{id:"overview-1",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"AMQP is a more feature-rich and versatile messaging protocol designed for robust message delivery in complex enterprise environments. It supports various messaging patterns, including point-to-point, publish/subscribe, and request/reply."}),"\n",(0,r.jsx)(n.h3,{id:"key-features-1",children:"Key Features"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Message-Oriented:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Messages are structured with headers and properties for advanced processing."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Broker-Based:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Requires a message broker (e.g., RabbitMQ, ActiveMQ) to route messages between producers and consumers."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Advanced Routing:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Supports flexible routing mechanisms through exchanges and queues:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Direct Exchange:"})," Delivers messages to queues with a matching routing key."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Topic Exchange:"})," Routes messages based on pattern-matching of routing keys."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Fanout Exchange:"})," Broadcasts messages to all queues bound to the exchange."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Headers Exchange:"})," Routes messages based on message headers."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Reliability:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Ensures reliable delivery with features like message acknowledgment, persistent storage, and transaction support."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Interoperability:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"AMQP is a protocol standard, ensuring compatibility between different implementations."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Security:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Offers authentication and encryption, typically using TLS."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"how-amqp-works",children:"How AMQP Works"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Message Producer:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Sends messages to an exchange."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exchange:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Decides how messages should be routed to queues based on routing rules."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Queue:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Stores messages until they are consumed by a message consumer."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Message Consumer:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Retrieves and processes messages from a queue."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"example-services-using-amqp",children:"Example Services Using AMQP"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RabbitMQ:"})," Popular open-source AMQP-based message broker."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Azure Service Bus:"})," Cloud-based messaging service for enterprise solutions."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Apache Qpid:"})," Implements the AMQP standard for distributed messaging."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"pros-and-cons-of-amqp",children:"Pros and Cons of AMQP"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Pros:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Rich feature set for advanced message routing and processing."}),"\n",(0,r.jsx)(n.li,{children:"Supports multiple messaging patterns (e.g., point-to-point, publish/subscribe)."}),"\n",(0,r.jsx)(n.li,{children:"Reliable message delivery with acknowledgment and persistence."}),"\n",(0,r.jsx)(n.li,{children:"Interoperable across different implementations due to standardization."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Cons:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Higher resource usage compared to MQTT."}),"\n",(0,r.jsx)(n.li,{children:"More complex to configure and manage."}),"\n",(0,r.jsx)(n.li,{children:"Not suitable for resource-constrained environments or low-bandwidth networks."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"comparison-of-mqtt-and-amqp",children:"Comparison of MQTT and AMQP"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"MQTT"}),(0,r.jsx)(n.th,{children:"AMQP"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Use Case"})}),(0,r.jsx)(n.td,{children:"IoT, constrained devices"}),(0,r.jsx)(n.td,{children:"Enterprise systems, complex workflows"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Protocol Type"})}),(0,r.jsx)(n.td,{children:"Lightweight"}),(0,r.jsx)(n.td,{children:"Feature-rich"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Messaging Pattern"})}),(0,r.jsx)(n.td,{children:"Publish/Subscribe"}),(0,r.jsx)(n.td,{children:"Publish/Subscribe, Point-to-Point, etc."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Transport Layer"})}),(0,r.jsx)(n.td,{children:"TCP"}),(0,r.jsx)(n.td,{children:"TCP"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Routing"})}),(0,r.jsx)(n.td,{children:"Topic-based"}),(0,r.jsx)(n.td,{children:"Exchange and queue-based"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Reliability"})}),(0,r.jsx)(n.td,{children:"QoS Levels"}),(0,r.jsx)(n.td,{children:"Acknowledgments and transactions"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Security"})}),(0,r.jsx)(n.td,{children:"TLS"}),(0,r.jsx)(n.td,{children:"TLS and SASL"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Overhead"})}),(0,r.jsx)(n.td,{children:"Low"}),(0,r.jsx)(n.td,{children:"Higher"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Typical Broker"})}),(0,r.jsx)(n.td,{children:"Mosquitto, EMQX"}),(0,r.jsx)(n.td,{children:"RabbitMQ, ActiveMQ"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"choosing-between-mqtt-and-amqp",children:"Choosing Between MQTT and AMQP"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"When to Use MQTT:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Resource-constrained devices."}),"\n",(0,r.jsx)(n.li,{children:"Applications requiring low bandwidth."}),"\n",(0,r.jsx)(n.li,{children:"Scenarios where simplicity is critical."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"When to Use AMQP:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Enterprise-grade messaging with advanced routing."}),"\n",(0,r.jsx)(n.li,{children:"Systems requiring high reliability and security."}),"\n",(0,r.jsx)(n.li,{children:"Scenarios involving multiple messaging patterns."}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>d});var i=s(96540);const r={},l=i.createContext(r);function t(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);