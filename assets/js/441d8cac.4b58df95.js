"use strict";(self.webpackChunkimdeepmind=self.webpackChunkimdeepmind||[]).push([[707],{99770:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>t,default:()=>a,frontMatter:()=>l,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"databases/sql/group-by","title":"GROUP BY Queries","description":"The GROUP BY clause in SQL is used to group rows that have the same values in one or more columns. It\u2019s mainly used along with aggregate functions (like SUM(), AVG(), COUNT(), MIN(), MAX()) to compute summary statistics for each group.","source":"@site/docs/databases/sql/group-by.md","sourceDirName":"databases/sql","slug":"/databases/sql/group-by","permalink":"/docs/databases/sql/group-by","draft":false,"unlisted":false,"editUrl":"https://github.com/imdeepmind/imdeepmind.github.io/blob/main/docs/databases/sql/group-by.md","tags":[],"version":"current","lastUpdatedBy":"Abhishek Chatterjee","lastUpdatedAt":1760202842000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Aggregations Queries","permalink":"/docs/databases/sql/aggregation"},"next":{"title":"String, Date, and Time Operations","permalink":"/docs/databases/sql/string-date"}}');var d=n(74848),i=n(28453);const l={sidebar_position:4},t="GROUP BY Queries",c={},h=[{value:"Basic Syntax",id:"basic-syntax",level:2},{value:"Basic Example",id:"basic-example",level:2},{value:"GROUP BY with Multiple Columns",id:"group-by-with-multiple-columns",level:2},{value:"GROUP BY with WHERE and HAVING",id:"group-by-with-where-and-having",level:2},{value:"GROUP BY with ORDER BY",id:"group-by-with-order-by",level:2},{value:"GROUP BY with Aliases and Expressions",id:"group-by-with-aliases-and-expressions",level:2},{value:"GROUP BY with Column Position",id:"group-by-with-column-position",level:2},{value:"GROUPING SETS, ROLLUP, and CUBE",id:"grouping-sets-rollup-and-cube",level:2},{value:"GROUPING SETS",id:"grouping-sets",level:3},{value:"ROLLUP",id:"rollup",level:3},{value:"CUBE",id:"cube",level:3},{value:"GROUPING() and GROUPING_ID()",id:"grouping-and-grouping_id",level:3},{value:"Differences Across Databases",id:"differences-across-databases",level:2}];function o(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.header,{children:(0,d.jsx)(s.h1,{id:"group-by-queries",children:"GROUP BY Queries"})}),"\n",(0,d.jsxs)(s.p,{children:["The ",(0,d.jsx)(s.code,{children:"GROUP BY"})," clause in SQL is used to group rows that have the same values in one or more columns. It\u2019s mainly used along with ",(0,d.jsx)(s.strong,{children:"aggregate functions"})," (like ",(0,d.jsx)(s.code,{children:"SUM()"}),", ",(0,d.jsx)(s.code,{children:"AVG()"}),", ",(0,d.jsx)(s.code,{children:"COUNT()"}),", ",(0,d.jsx)(s.code,{children:"MIN()"}),", ",(0,d.jsx)(s.code,{children:"MAX()"}),") to compute summary statistics for each group."]}),"\n",(0,d.jsxs)(s.p,{children:["It helps us transform ",(0,d.jsx)(s.strong,{children:"row-level data"})," into ",(0,d.jsx)(s.strong,{children:"aggregated insights"}),", such as \u201ctotal sales per region\u201d or \u201caverage salary per department\u201d."]}),"\n",(0,d.jsxs)(s.p,{children:["Without ",(0,d.jsx)(s.code,{children:"GROUP BY"}),", aggregate functions treat the entire dataset as one group. With it, we can compute aggregates for each unique value or combination of values."]}),"\n",(0,d.jsx)(s.h2,{id:"basic-syntax",children:"Basic Syntax"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-sql",children:"SELECT column1, aggregate_function(column2)\nFROM table_name\nGROUP BY column1;\n"})}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Key points:"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["Every column in the ",(0,d.jsx)(s.code,{children:"SELECT"})," clause must either appear in the ",(0,d.jsx)(s.code,{children:"GROUP BY"})," clause or be used inside an aggregate function."]}),"\n",(0,d.jsxs)(s.li,{children:["The ",(0,d.jsx)(s.code,{children:"GROUP BY"})," clause always appears ",(0,d.jsx)(s.strong,{children:"after WHERE"})," but ",(0,d.jsx)(s.strong,{children:"before HAVING and ORDER BY"}),"."]}),"\n"]}),"\n",(0,d.jsx)(s.h2,{id:"basic-example",children:"Basic Example"}),"\n",(0,d.jsxs)(s.p,{children:["Suppose we have a table ",(0,d.jsx)(s.code,{children:"sales"}),":"]}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"region"}),(0,d.jsx)(s.th,{children:"product"}),(0,d.jsx)(s.th,{children:"amount"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"East"}),(0,d.jsx)(s.td,{children:"Apple"}),(0,d.jsx)(s.td,{children:"100"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"West"}),(0,d.jsx)(s.td,{children:"Orange"}),(0,d.jsx)(s.td,{children:"200"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"East"}),(0,d.jsx)(s.td,{children:"Apple"}),(0,d.jsx)(s.td,{children:"150"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"West"}),(0,d.jsx)(s.td,{children:"Banana"}),(0,d.jsx)(s.td,{children:"50"})]})]})]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Query:"})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-sql",children:"SELECT region, SUM(amount) AS total_sales\nFROM sales\nGROUP BY region;\n"})}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Output:"})}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"region"}),(0,d.jsx)(s.th,{children:"total_sales"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"East"}),(0,d.jsx)(s.td,{children:"250"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"West"}),(0,d.jsx)(s.td,{children:"250"})]})]})]}),"\n",(0,d.jsxs)(s.p,{children:["The ",(0,d.jsx)(s.code,{children:"GROUP BY region"})," clause combines rows with the same region and applies ",(0,d.jsx)(s.code,{children:"SUM()"})," on the ",(0,d.jsx)(s.code,{children:"amount"})," column for each group."]}),"\n",(0,d.jsx)(s.h2,{id:"group-by-with-multiple-columns",children:"GROUP BY with Multiple Columns"}),"\n",(0,d.jsxs)(s.p,{children:["We can group by multiple columns to create ",(0,d.jsx)(s.strong,{children:"nested"})," or ",(0,d.jsx)(s.strong,{children:"hierarchical groupings"}),"."]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-sql",children:"SELECT region, product, SUM(amount) AS total_sales\nFROM sales\nGROUP BY region, product;\n"})}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Output:"})}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"region"}),(0,d.jsx)(s.th,{children:"product"}),(0,d.jsx)(s.th,{children:"total_sales"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"East"}),(0,d.jsx)(s.td,{children:"Apple"}),(0,d.jsx)(s.td,{children:"250"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"West"}),(0,d.jsx)(s.td,{children:"Banana"}),(0,d.jsx)(s.td,{children:"50"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"West"}),(0,d.jsx)(s.td,{children:"Orange"}),(0,d.jsx)(s.td,{children:"200"})]})]})]}),"\n",(0,d.jsxs)(s.p,{children:["Here, grouping happens for each ",(0,d.jsx)(s.code,{children:"(region, product)"})," pair."]}),"\n",(0,d.jsx)(s.h2,{id:"group-by-with-where-and-having",children:"GROUP BY with WHERE and HAVING"}),"\n",(0,d.jsxs)(s.p,{children:["Both ",(0,d.jsx)(s.code,{children:"WHERE"})," and ",(0,d.jsx)(s.code,{children:"HAVING"})," are used for filtering, but they act at ",(0,d.jsx)(s.strong,{children:"different stages"}),":"]}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Clause"}),(0,d.jsx)(s.th,{children:"Filters"}),(0,d.jsx)(s.th,{children:"Stage"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"WHERE"}),(0,d.jsx)(s.td,{children:"Rows (before grouping)"}),(0,d.jsx)(s.td,{children:"Before grouping"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"HAVING"}),(0,d.jsx)(s.td,{children:"Groups (after grouping)"}),(0,d.jsx)(s.td,{children:"After grouping"})]})]})]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Example:"})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-sql",children:"SELECT region, SUM(amount) AS total_sales\nFROM sales\nWHERE amount > 50\nGROUP BY region\nHAVING SUM(amount) > 200;\n"})}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Explanation:"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"WHERE"})," filters out rows where ",(0,d.jsx)(s.code,{children:"amount <= 50"}),"."]}),"\n",(0,d.jsxs)(s.li,{children:["Then rows are grouped by ",(0,d.jsx)(s.code,{children:"region"}),"."]}),"\n",(0,d.jsxs)(s.li,{children:["Finally, ",(0,d.jsx)(s.code,{children:"HAVING"})," filters out groups whose ",(0,d.jsx)(s.code,{children:"SUM(amount)"})," is not greater than 200."]}),"\n"]}),"\n",(0,d.jsx)(s.h2,{id:"group-by-with-order-by",children:"GROUP BY with ORDER BY"}),"\n",(0,d.jsxs)(s.p,{children:["You can sort aggregated results using ",(0,d.jsx)(s.code,{children:"ORDER BY"}),"."]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-sql",children:"SELECT region, SUM(amount) AS total_sales\nFROM sales\nGROUP BY region\nORDER BY total_sales DESC;\n"})}),"\n",(0,d.jsx)(s.p,{children:"This sorts groups by total sales in descending order."}),"\n",(0,d.jsx)(s.h2,{id:"group-by-with-aliases-and-expressions",children:"GROUP BY with Aliases and Expressions"}),"\n",(0,d.jsx)(s.p,{children:"We can group by computed or derived values."}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-sql",children:"SELECT UPPER(region) AS region_upper, SUM(amount)\nFROM sales\nGROUP BY UPPER(region);\n"})}),"\n",(0,d.jsx)(s.p,{children:"Here, grouping is done based on the uppercase form of region names."}),"\n",(0,d.jsx)(s.h2,{id:"group-by-with-column-position",children:"GROUP BY with Column Position"}),"\n",(0,d.jsxs)(s.p,{children:["Some databases allow grouping by the ",(0,d.jsx)(s.strong,{children:"position"})," of the column in the ",(0,d.jsx)(s.code,{children:"SELECT"})," list."]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-sql",children:"SELECT region, product, SUM(amount)\nFROM sales\nGROUP BY 1, 2;\n"})}),"\n",(0,d.jsxs)(s.p,{children:["This groups by the first and second selected columns (",(0,d.jsx)(s.code,{children:"region"})," and ",(0,d.jsx)(s.code,{children:"product"}),")."]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Note:"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:"MySQL, PostgreSQL, and Oracle support this."}),"\n",(0,d.jsx)(s.li,{children:"SQL Server discourages it and recommends explicit column names."}),"\n"]}),"\n",(0,d.jsx)(s.h2,{id:"grouping-sets-rollup-and-cube",children:"GROUPING SETS, ROLLUP, and CUBE"}),"\n",(0,d.jsxs)(s.p,{children:["When we need multiple groupings in a single query, instead of using multiple ",(0,d.jsx)(s.code,{children:"UNION"})," queries, we can use ",(0,d.jsx)(s.strong,{children:"GROUPING SETS"}),", ",(0,d.jsx)(s.strong,{children:"ROLLUP"}),", or ",(0,d.jsx)(s.strong,{children:"CUBE"}),".\nThese are part of the SQL:1999 standard."]}),"\n",(0,d.jsx)(s.h3,{id:"grouping-sets",children:"GROUPING SETS"}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.code,{children:"GROUPING SETS"})," allows explicit specification of multiple independent grouping combinations in a single query."]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-sql",children:"SELECT region, product, SUM(amount) AS total_sales\nFROM sales\nGROUP BY GROUPING SETS ((region), (product), ());\n"})}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Result:"})}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"region"}),(0,d.jsx)(s.th,{children:"product"}),(0,d.jsx)(s.th,{children:"total_sales"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"East"}),(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"250"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"West"}),(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"250"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"Apple"}),(0,d.jsx)(s.td,{children:"250"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"Orange"}),(0,d.jsx)(s.td,{children:"200"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"Banana"}),(0,d.jsx)(s.td,{children:"50"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"550"})]})]})]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Explanation:"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"(region)"})," \u2192 groups by region."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"(product)"})," \u2192 groups by product."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"()"})," \u2192 represents a grand total (no grouping)."]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:"This is equivalent to doing:"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-sql",children:"SELECT region, NULL AS product, SUM(amount) FROM sales GROUP BY region\nUNION ALL\nSELECT NULL AS region, product, SUM(amount) FROM sales GROUP BY product\nUNION ALL\nSELECT NULL, NULL, SUM(amount) FROM sales;\n"})}),"\n",(0,d.jsx)(s.p,{children:"but in a single, efficient query."}),"\n",(0,d.jsx)(s.h3,{id:"rollup",children:"ROLLUP"}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.code,{children:"ROLLUP"})," is used for ",(0,d.jsx)(s.strong,{children:"hierarchical subtotals"})," \u2014 it performs a ",(0,d.jsx)(s.strong,{children:"top-down"})," aggregation from detailed to summary levels."]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-sql",children:"SELECT region, product, SUM(amount) AS total_sales\nFROM sales\nGROUP BY ROLLUP(region, product);\n"})}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Result:"})}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"region"}),(0,d.jsx)(s.th,{children:"product"}),(0,d.jsx)(s.th,{children:"total_sales"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"East"}),(0,d.jsx)(s.td,{children:"Apple"}),(0,d.jsx)(s.td,{children:"250"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"East"}),(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"250"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"West"}),(0,d.jsx)(s.td,{children:"Banana"}),(0,d.jsx)(s.td,{children:"50"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"West"}),(0,d.jsx)(s.td,{children:"Orange"}),(0,d.jsx)(s.td,{children:"200"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"West"}),(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"250"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"500"})]})]})]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Explanation:"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"(region, product)"})," \u2192 specific combinations."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"(region)"})," \u2192 subtotal per region."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"()"})," \u2192 grand total."]}),"\n"]}),"\n",(0,d.jsxs)(s.p,{children:["Thus, ",(0,d.jsx)(s.code,{children:"ROLLUP"})," gives cumulative totals up the hierarchy."]}),"\n",(0,d.jsx)(s.h3,{id:"cube",children:"CUBE"}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.code,{children:"CUBE"})," creates ",(0,d.jsx)(s.strong,{children:"all possible grouping combinations"}),", producing a ",(0,d.jsx)(s.strong,{children:"multidimensional aggregation"})," (cross-tabulated summary)."]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-sql",children:"SELECT region, product, SUM(amount) AS total_sales\nFROM sales\nGROUP BY CUBE(region, product);\n"})}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Result:"})}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"region"}),(0,d.jsx)(s.th,{children:"product"}),(0,d.jsx)(s.th,{children:"total_sales"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"East"}),(0,d.jsx)(s.td,{children:"Apple"}),(0,d.jsx)(s.td,{children:"250"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"East"}),(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"250"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"West"}),(0,d.jsx)(s.td,{children:"Banana"}),(0,d.jsx)(s.td,{children:"50"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"West"}),(0,d.jsx)(s.td,{children:"Orange"}),(0,d.jsx)(s.td,{children:"200"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"West"}),(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"250"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"Apple"}),(0,d.jsx)(s.td,{children:"250"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"Banana"}),(0,d.jsx)(s.td,{children:"50"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"Orange"}),(0,d.jsx)(s.td,{children:"200"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"550"})]})]})]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Explanation:"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["\n",(0,d.jsx)(s.p,{children:"Includes all group combinations:"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"(region, product)"})," \u2014 detailed"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"(region)"})," \u2014 subtotal per region"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"(product)"})," \u2014 subtotal per product"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"()"})," \u2014 grand total"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.code,{children:"CUBE"})," is ideal for multidimensional analytics (like pivot tables)."]}),"\n",(0,d.jsx)(s.h3,{id:"grouping-and-grouping_id",children:"GROUPING() and GROUPING_ID()"}),"\n",(0,d.jsxs)(s.p,{children:["In ",(0,d.jsx)(s.code,{children:"ROLLUP"})," and ",(0,d.jsx)(s.code,{children:"CUBE"}),", ",(0,d.jsx)(s.code,{children:"NULL"})," values may appear for subtotals. To differentiate between a real ",(0,d.jsx)(s.code,{children:"NULL"})," and an aggregated subtotal, SQL provides the ",(0,d.jsx)(s.code,{children:"GROUPING()"})," function."]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-sql",children:"SELECT region, product,\n       SUM(amount) AS total_sales,\n       GROUPING(region) AS g_region,\n       GROUPING(product) AS g_product\nFROM sales\nGROUP BY CUBE(region, product);\n"})}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Output:"})}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"region"}),(0,d.jsx)(s.th,{children:"product"}),(0,d.jsx)(s.th,{children:"total_sales"}),(0,d.jsx)(s.th,{children:"g_region"}),(0,d.jsx)(s.th,{children:"g_product"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"East"}),(0,d.jsx)(s.td,{children:"Apple"}),(0,d.jsx)(s.td,{children:"250"}),(0,d.jsx)(s.td,{children:"0"}),(0,d.jsx)(s.td,{children:"0"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"East"}),(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"250"}),(0,d.jsx)(s.td,{children:"0"}),(0,d.jsx)(s.td,{children:"1"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"Apple"}),(0,d.jsx)(s.td,{children:"250"}),(0,d.jsx)(s.td,{children:"1"}),(0,d.jsx)(s.td,{children:"0"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"NULL"}),(0,d.jsx)(s.td,{children:"550"}),(0,d.jsx)(s.td,{children:"1"}),(0,d.jsx)(s.td,{children:"1"})]})]})]}),"\n",(0,d.jsxs)(s.p,{children:["If ",(0,d.jsx)(s.code,{children:"GROUPING(column)"})," = 1, that column\u2019s value is the result of aggregation (not a real data value)."]}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.code,{children:"GROUPING_ID()"})," (supported in SQL Server, Oracle, and PostgreSQL) combines multiple grouping flags into a single integer bitmask for complex analysis."]}),"\n",(0,d.jsx)(s.h2,{id:"differences-across-databases",children:"Differences Across Databases"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Feature"}),(0,d.jsx)(s.th,{children:"PostgreSQL"}),(0,d.jsx)(s.th,{children:"MySQL"}),(0,d.jsx)(s.th,{children:"SQL Server"}),(0,d.jsx)(s.th,{children:"Oracle"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.strong,{children:"Basic GROUP BY"})}),(0,d.jsx)(s.td,{children:"Fully supported"}),(0,d.jsx)(s.td,{children:"Fully supported"}),(0,d.jsx)(s.td,{children:"Fully supported"}),(0,d.jsx)(s.td,{children:"Fully supported"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.strong,{children:"GROUPING SETS"})}),(0,d.jsx)(s.td,{children:"Supported"}),(0,d.jsx)(s.td,{children:"Supported (since 8.0.18)"}),(0,d.jsx)(s.td,{children:"Supported"}),(0,d.jsx)(s.td,{children:"Supported"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.strong,{children:"ROLLUP"})}),(0,d.jsx)(s.td,{children:"Supported"}),(0,d.jsx)(s.td,{children:"Supported"}),(0,d.jsx)(s.td,{children:"Supported"}),(0,d.jsx)(s.td,{children:"Supported"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.strong,{children:"CUBE"})}),(0,d.jsx)(s.td,{children:"Supported"}),(0,d.jsx)(s.td,{children:"Supported (since 8.0.18)"}),(0,d.jsx)(s.td,{children:"Supported"}),(0,d.jsx)(s.td,{children:"Supported"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.strong,{children:"GROUPING()"})}),(0,d.jsx)(s.td,{children:"Supported"}),(0,d.jsx)(s.td,{children:"Supported"}),(0,d.jsx)(s.td,{children:"Supported"}),(0,d.jsx)(s.td,{children:"Supported"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.strong,{children:"GROUPING_ID()"})}),(0,d.jsx)(s.td,{children:"Supported"}),(0,d.jsx)(s.td,{children:"Not supported"}),(0,d.jsx)(s.td,{children:"Supported"}),(0,d.jsx)(s.td,{children:"Supported"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.strong,{children:"HAVING without GROUP BY"})}),(0,d.jsx)(s.td,{children:"Supported"}),(0,d.jsx)(s.td,{children:"Supported"}),(0,d.jsx)(s.td,{children:"Supported"}),(0,d.jsx)(s.td,{children:"Supported"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.strong,{children:"Alias in GROUP BY"})}),(0,d.jsx)(s.td,{children:"Not allowed (must use column name)"}),(0,d.jsx)(s.td,{children:"Allowed"}),(0,d.jsx)(s.td,{children:"Allowed"}),(0,d.jsx)(s.td,{children:"Allowed"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.strong,{children:"Column position grouping"})}),(0,d.jsx)(s.td,{children:"Supported"}),(0,d.jsx)(s.td,{children:"Supported"}),(0,d.jsx)(s.td,{children:"Discouraged"}),(0,d.jsx)(s.td,{children:"Supported"})]})]})]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Notes:"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["MySQL < 8.0 didn\u2019t support ",(0,d.jsx)(s.code,{children:"ROLLUP"}),", ",(0,d.jsx)(s.code,{children:"CUBE"}),", or ",(0,d.jsx)(s.code,{children:"GROUPING SETS"}),"."]}),"\n",(0,d.jsx)(s.li,{children:"PostgreSQL adheres closely to the SQL standard and is strict about alias usage."}),"\n",(0,d.jsxs)(s.li,{children:["Oracle and SQL Server provide additional analytic extensions like ",(0,d.jsx)(s.code,{children:"GROUPING_ID()"})," and better optimizer handling for rollups."]}),"\n"]})]})}function a(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,d.jsx)(s,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>t});var r=n(96540);const d={},i=r.createContext(d);function l(e){const s=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),r.createElement(i.Provider,{value:s},e.children)}}}]);