"use strict";(self.webpackChunkimdeepmind=self.webpackChunkimdeepmind||[]).push([[5058],{61317:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"networking/protocols/layer-3/bgp","title":"BGP","description":"The Border Gateway Protocol (BGP) is the protocol that powers the internet\'s routing system. It is responsible for exchanging routing information between autonomous systems (AS), which are networks or groups of networks managed by a single organization. BGP is classified as a path-vector protocol, and it operates on TCP port 179.","source":"@site/docs/networking/protocols/layer-3/bgp.md","sourceDirName":"networking/protocols/layer-3","slug":"/networking/protocols/layer-3/bgp","permalink":"/docs/networking/protocols/layer-3/bgp","draft":false,"unlisted":false,"editUrl":"https://github.com/imdeepmind/imdeepmind.github.io/blob/main/docs/networking/protocols/layer-3/bgp.md","tags":[],"version":"current","lastUpdatedBy":"Abhishek Chatterjee","lastUpdatedAt":1752915828000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"ICMP","permalink":"/docs/networking/protocols/layer-3/icmp"},"next":{"title":"NAT","permalink":"/docs/networking/protocols/layer-3/nat"}}');var t=s(74848),r=s(28453);const o={sidebar_position:3},l="BGP",c={},a=[{value:"Key Concepts",id:"key-concepts",level:2},{value:"How BGP Works",id:"how-bgp-works",level:2},{value:"BGP States",id:"bgp-states",level:2},{value:"Advantages of BGP",id:"advantages-of-bgp",level:2},{value:"Challenges of BGP",id:"challenges-of-bgp",level:2},{value:"Security Enhancements in BGP",id:"security-enhancements-in-bgp",level:2},{value:"Use Cases",id:"use-cases",level:2}];function h(e){const n={h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"bgp",children:"BGP"})}),"\n",(0,t.jsxs)(n.p,{children:["The Border Gateway Protocol (BGP) is the protocol that powers the internet's routing system. It is responsible for exchanging routing information between autonomous systems (AS), which are networks or groups of networks managed by a single organization. BGP is classified as a ",(0,t.jsx)(n.strong,{children:"path-vector protocol"}),", and it operates on ",(0,t.jsx)(n.strong,{children:"TCP port 179"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"BGP plays a crucial role in ensuring that data packets are routed efficiently and reach their intended destinations across the vast and decentralized infrastructure of the internet."}),"\n",(0,t.jsx)(n.h2,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Autonomous System (AS):"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"An AS is a collection of IP prefixes controlled by a single organization that has a unified routing policy."}),"\n",(0,t.jsxs)(n.li,{children:["Each AS is assigned a unique identifier known as an ",(0,t.jsx)(n.strong,{children:"Autonomous System Number (ASN)"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Interior vs. Exterior BGP:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Internal BGP (iBGP):"})," Used for routing within a single AS."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"External BGP (eBGP):"})," Used for routing between different ASes."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Routing Table:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Each BGP router maintains a routing table that stores information about paths to various network destinations."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Path Vector Protocol:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"BGP uses a path vector mechanism where the route information includes the list of ASes that data must traverse to reach the destination."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"how-bgp-works",children:"How BGP Works"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Session Establishment:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"BGP peers (routers) establish a session over TCP using port 179."}),"\n",(0,t.jsx)(n.li,{children:"Peers exchange keep-alive messages to maintain the session."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Route Advertisement:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"BGP routers advertise prefixes (IP address ranges) they can route traffic to."}),"\n",(0,t.jsxs)(n.li,{children:["Each advertisement includes attributes such as:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"AS-PATH:"})," Sequence of ASes the route has passed through."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"NEXT-HOP:"})," The next-hop IP address to reach the destination."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"MED (Multi-Exit Discriminator):"})," A hint to prioritize one route over another when multiple exit points exist."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Local Preference:"})," Preference value used within an AS."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Community Tags:"})," Metadata for routing policies."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Route Selection:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:['BGP uses several attributes to determine the "best" path:',"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Prefer the path with the highest ",(0,t.jsx)(n.strong,{children:"Local Preference"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Prefer the path with the shortest ",(0,t.jsx)(n.strong,{children:"AS-PATH"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Prefer the path with the lowest ",(0,t.jsx)(n.strong,{children:"MED"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Prefer paths from the closest eBGP neighbor."}),"\n",(0,t.jsxs)(n.li,{children:["Prefer the path with the lowest ",(0,t.jsx)(n.strong,{children:"IGP cost"})," to the NEXT-HOP."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Propagation:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Once a router selects the best path, it advertises the route to its peers, propagating routing information across the network."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Policy Enforcement:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"BGP allows administrators to enforce policies using route filtering, route maps, and community tags. This controls which routes are accepted, advertised, or preferred."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"bgp-states",children:"BGP States"}),"\n",(0,t.jsx)(n.p,{children:"BGP sessions progress through the following states:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Idle:"})," Initial state; router is waiting to start a connection."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Connect:"})," Router attempts to establish a TCP connection with its peer."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Active:"})," Router retries connection if the initial attempt fails."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"OpenSent:"})," Router sends an OPEN message to the peer."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"OpenConfirm:"})," Router waits for confirmation of the OPEN message."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Established:"})," Session is established, and peers begin exchanging routing updates."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"advantages-of-bgp",children:"Advantages of BGP"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Scalability:"})," BGP can handle the enormous scale of the internet."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Policy Control:"})," Network administrators have fine-grained control over routing behavior."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Path Diversity:"})," Offers multiple paths to the same destination, enhancing redundancy and resilience."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"challenges-of-bgp",children:"Challenges of BGP"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Convergence Time:"})," BGP can take longer to converge compared to other protocols."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Security Risks:"})," BGP is vulnerable to attacks like route hijacking or leaks, as it lacks built-in authentication mechanisms."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Complexity:"})," Configuring and managing BGP requires expertise due to its flexible but intricate policies."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"security-enhancements-in-bgp",children:"Security Enhancements in BGP"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"RPKI (Resource Public Key Infrastructure):"})," Validates the ownership of IP prefixes to mitigate route hijacking."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"BGP Monitoring Tools:"})," Detect and respond to abnormal routing events."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Secure BGP (S-BGP):"})," A proposed extension to enhance authentication and integrity."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Internet Service Providers (ISPs):"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"BGP is the backbone protocol for ISPs to exchange routing information."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Large Enterprises:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Enterprises use BGP for multi-homed connections to different ISPs for redundancy."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Content Delivery Networks (CDNs):"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"CDNs use BGP to optimize the delivery of content by directing traffic to the nearest server."}),"\n"]}),"\n"]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var i=s(96540);const t={},r=i.createContext(t);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);