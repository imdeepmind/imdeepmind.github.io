"use strict";(self.webpackChunkimdeepmind=self.webpackChunkimdeepmind||[]).push([[8463],{37908:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"programming/programming-languages/go/files","title":"File Handling","description":"File operations are a core part of many Go applications. Go provides a rich set of APIs in the os, io, and io/fs packages for file and directory management. This note covers file creation, reading, writing, permissions, metadata, directory operations, and best practices.","source":"@site/docs/programming/programming-languages/go/files.md","sourceDirName":"programming/programming-languages/go","slug":"/programming/programming-languages/go/files","permalink":"/docs/programming/programming-languages/go/files","draft":false,"unlisted":false,"editUrl":"https://github.com/imdeepmind/imdeepmind.github.io/blob/main/docs/programming/programming-languages/go/files.md","tags":[],"version":"current","lastUpdatedBy":"Abhishek Chatterjee","lastUpdatedAt":1754997544000,"sidebarPosition":9,"frontMatter":{"sidebar_position":9},"sidebar":"tutorialSidebar","previous":{"title":"Error Handling","permalink":"/docs/programming/programming-languages/go/error-handling"},"next":{"title":"Pointers","permalink":"/docs/programming/programming-languages/go/pointers"}}');var s=i(74848),l=i(28453);const a={sidebar_position:9},o="File Handling",d={},t=[{value:"File Creation and Opening",id:"file-creation-and-opening",level:2},{value:"File Flags",id:"file-flags",level:3},{value:"File Permissions",id:"file-permissions",level:3},{value:"Writing to Files",id:"writing-to-files",level:2},{value:"Reading from Files",id:"reading-from-files",level:2},{value:"Closing Files",id:"closing-files",level:2},{value:"File Metadata and Existence",id:"file-metadata-and-existence",level:2},{value:"Deleting, Renaming, and Moving Files",id:"deleting-renaming-and-moving-files",level:2},{value:"Working with Directories",id:"working-with-directories",level:2},{value:"File and Directory Permissions",id:"file-and-directory-permissions",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"file-handling",children:"File Handling"})}),"\n",(0,s.jsxs)(n.p,{children:["File operations are a core part of many Go applications. Go provides a rich set of APIs in the ",(0,s.jsx)(n.code,{children:"os"}),", ",(0,s.jsx)(n.code,{children:"io"}),", and ",(0,s.jsx)(n.code,{children:"io/fs"})," packages for file and directory management. This note covers file creation, reading, writing, permissions, metadata, directory operations, and best practices."]}),"\n",(0,s.jsx)(n.h2,{id:"file-creation-and-opening",children:"File Creation and Opening"}),"\n",(0,s.jsx)(n.p,{children:"Go offers several ways to create and open files, each suited for different scenarios:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Create a new file (or truncate if exists):"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'file, err := os.Create("example.txt") // O_WRONLY|O_CREATE|O_TRUNC\nif err != nil { log.Fatal(err) }\ndefer file.Close()\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Open an existing file for reading:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'file, err := os.Open("example.txt") // O_RDONLY\nif err != nil { log.Fatal(err) }\ndefer file.Close()\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Open a file with custom flags and permissions:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'file, err := os.OpenFile("example.txt", os.O_RDWR|os.O_CREATE|os.O_APPEND, 0644)\nif err != nil { log.Fatal(err) }\ndefer file.Close()\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"file-flags",children:"File Flags"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"os.O_RDONLY"}),": read-only"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"os.O_WRONLY"}),": write-only"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"os.O_RDWR"}),": read-write"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"os.O_CREATE"}),": create if not exists"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"os.O_APPEND"}),": append to file"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"os.O_TRUNC"}),": truncate file when opening"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"file-permissions",children:"File Permissions"}),"\n",(0,s.jsxs)(n.p,{children:["Permissions are specified as an octal number (e.g., ",(0,s.jsx)(n.code,{children:"0644"}),"). They control who can read, write, or execute the file:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"0400"}),": read-only (owner)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"0600"}),": read/write (owner)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"0644"}),": owner read/write, others read"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"0755"}),": owner all, others read/execute"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"writing-to-files",children:"Writing to Files"}),"\n",(0,s.jsx)(n.p,{children:"We can write to files using several methods:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Write bytes:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'_, err := file.Write([]byte("Hello, World!\\n"))\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Write strings:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'_, err := file.WriteString("Another line\\n")\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Formatted output:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'fmt.Fprintf(file, "Number: %d\\n", 42)\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["For simple cases, use ",(0,s.jsx)(n.code,{children:"os.WriteFile"})," (Go 1.16+):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'err := os.WriteFile("output.txt", []byte("Quick write!"), 0644)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"reading-from-files",children:"Reading from Files"}),"\n",(0,s.jsx)(n.p,{children:"There are multiple ways to read files in Go:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Read bytes:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:"data := make([]byte, 100)\nn, err := file.Read(data)\nfmt.Println(string(data[:n]))\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Buffered reading (for large files):"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:"reader := bufio.NewReader(file)\nline, err := reader.ReadString('\\n')\nfmt.Println(line)\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Read entire file (small files):"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'content, err := os.ReadFile("example.txt")\nif err != nil { log.Fatal(err) }\nfmt.Println(string(content))\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"closing-files",children:"Closing Files"}),"\n",(0,s.jsx)(n.p,{children:"Always close files after use to free resources. The idiomatic way is:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:"defer file.Close()\n"})}),"\n",(0,s.jsx)(n.h2,{id:"file-metadata-and-existence",children:"File Metadata and Existence"}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"os.Stat"})," to get file info and check existence:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'info, err := os.Stat("example.txt")\nif os.IsNotExist(err) {\n    fmt.Println("File does not exist")\n} else {\n    fmt.Println("Size:", info.Size())\n    fmt.Println("Permissions:", info.Mode())\n    fmt.Println("IsDir:", info.IsDir())\n    fmt.Println("ModTime:", info.ModTime())\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"deleting-renaming-and-moving-files",children:"Deleting, Renaming, and Moving Files"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Delete a file:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'err := os.Remove("example.txt")\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Rename or move a file:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'err := os.Rename("old.txt", "new.txt")\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"working-with-directories",children:"Working with Directories"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Create a single directory:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'err := os.Mkdir("mydir", 0755)\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Fails if parent does not exist."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Create nested directories:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'err := os.MkdirAll("parent/child/grandchild", 0755)\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Creates all missing parents in the path."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Difference:"})," ",(0,s.jsx)(n.code,{children:"os.Mkdir"})," creates only one directory and fails if the parent is missing. ",(0,s.jsx)(n.code,{children:"os.MkdirAll"})," creates all necessary parent directories."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"List files in a directory:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'files, err := os.ReadDir(".")\nfor _, f := range files {\n    fmt.Println(f.Name())\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"file-and-directory-permissions",children:"File and Directory Permissions"}),"\n",(0,s.jsxs)(n.p,{children:["Permissions are crucial for security. Always set the minimum required permissions. Use ",(0,s.jsx)(n.code,{children:"os.Chmod"})," to change permissions:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'err := os.Chmod("example.txt", 0600)\n'})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var r=i(96540);const s={},l=r.createContext(s);function a(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);