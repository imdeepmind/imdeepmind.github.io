<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-networking/protocols/websocket" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">WebSocket | imdeepmind</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://imdeepmind.com/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://imdeepmind.com/img/logo.png"><meta data-rh="true" property="og:url" content="https://imdeepmind.com/docs/networking/protocols/websocket"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="WebSocket | imdeepmind"><meta data-rh="true" name="description" content="WebSocket is a communication protocol that provides full-duplex (two-way) communication channels over a single, long-lived TCP connection. Unlike traditional HTTP requests, which are stateless and require a new connection for each exchange, WebSocket enables continuous communication between a client (such as a browser) and a server. WebSocket is particularly useful in scenarios requiring real-time communication, such as chat applications, live notifications, and online gaming."><meta data-rh="true" property="og:description" content="WebSocket is a communication protocol that provides full-duplex (two-way) communication channels over a single, long-lived TCP connection. Unlike traditional HTTP requests, which are stateless and require a new connection for each exchange, WebSocket enables continuous communication between a client (such as a browser) and a server. WebSocket is particularly useful in scenarios requiring real-time communication, such as chat applications, live notifications, and online gaming."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://imdeepmind.com/docs/networking/protocols/websocket"><link data-rh="true" rel="alternate" href="https://imdeepmind.com/docs/networking/protocols/websocket" hreflang="en"><link data-rh="true" rel="alternate" href="https://imdeepmind.com/docs/networking/protocols/websocket" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.84f3d2fb.css">
<script src="/assets/js/runtime~main.20f0dd62.js" defer="defer"></script>
<script src="/assets/js/main.ce54d9e6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="imdeepmind logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="imdeepmind logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">abhishek chatterjee</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Notes</a></div><div class="navbar__items navbar__items--right"><a href="https://rocketapi.net" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Rocket<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://blog.rocketapi.net" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blogs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://linkedin.com/in/imdeepmind" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/imdeepmind" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/programming-languages/introduction">Programming Languages</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/frameworks-libraries/introduction">Framework and Libraries</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/data-structure-and-algorithms/introduction">Data Structure and Algorithms</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/databases/introduction">Databases</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/networking/introduction">Networking</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/networking/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/networking/protocols/client-server-architecture">Protocols</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/networking/protocols/client-server-architecture">Client-Server Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/networking/protocols/osi-model">OSI Model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/networking/protocols/internet-protocol">Internet Protocol</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/networking/protocols/bgp">BGP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/networking/protocols/udp">UDP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/networking/protocols/tcp">TCP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/networking/protocols/quic">QUIC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/networking/protocols/tls">TLS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/networking/protocols/http">HTTP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/networking/protocols/websocket">WebSocket</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/networking/protocols/webrtc">WebRTC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/networking/protocols/rpc">RPC and gRPC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/networking/protocols/ssh">SSH</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/networking/protocols/dns">DNS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/networking/protocols/ftp">FTP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/networking/protocols/mqtt-amqp">MQTT and AMQP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/networking/protocols/rest">RESTful</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/networking/communication-design-patterns/request-response">Communication Design Patterns</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/system-design/introduction">System Design</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/version-control/introduction">Version Control</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/design-patterns/introduction">Design Patterns</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/other/regex">Other</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Networking</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Protocols</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">WebSocket</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>WebSocket</h1></header>
<p>WebSocket is a communication protocol that provides full-duplex (two-way) communication channels over a single, long-lived TCP connection. Unlike traditional HTTP requests, which are stateless and require a new connection for each exchange, WebSocket enables continuous communication between a client (such as a browser) and a server. WebSocket is particularly useful in scenarios requiring real-time communication, such as chat applications, live notifications, and online gaming.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-features-of-websocket">Key Features of WebSocket<a href="#key-features-of-websocket" class="hash-link" aria-label="Direct link to Key Features of WebSocket" title="Direct link to Key Features of WebSocket">​</a></h2>
<ul>
<li><strong>Full-Duplex Communication</strong>: WebSocket allows data to flow in both directions at the same time, whereas HTTP is unidirectional.</li>
<li><strong>Low Latency</strong>: By using a single long-lived connection, WebSocket reduces the overhead of creating new connections and establishes faster communication.</li>
<li><strong>Bidirectional</strong>: Data can be sent and received over the same connection without re-establishing connections or initiating new requests.</li>
<li><strong>Persistent Connection</strong>: The connection remains open, allowing continuous data transfer without the need for repeated handshakes.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-websocket-works-internally">How WebSocket Works Internally<a href="#how-websocket-works-internally" class="hash-link" aria-label="Direct link to How WebSocket Works Internally" title="Direct link to How WebSocket Works Internally">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="websocket-handshake">WebSocket Handshake<a href="#websocket-handshake" class="hash-link" aria-label="Direct link to WebSocket Handshake" title="Direct link to WebSocket Handshake">​</a></h3>
<p>The WebSocket connection starts with an HTTP handshake, where the client requests an upgrade from HTTP to WebSocket. After the handshake, the protocol switches to WebSocket, allowing for continuous communication. Here&#x27;s how the handshake process works:</p>
<div style="text-align:center"></div>
<ul>
<li><strong>Step 1</strong>: The client sends an HTTP request with an <code>Upgrade: websocket</code> header to the server.</li>
<li><strong>Step 2</strong>: The server responds with a <code>101 Switching Protocols</code> status code, signaling that the protocol is now WebSocket.</li>
<li><strong>Step 3</strong>: After the handshake, a WebSocket connection is established, and both client and server can exchange data in real time.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-transmission-full-duplex">Data Transmission (Full-Duplex)<a href="#data-transmission-full-duplex" class="hash-link" aria-label="Direct link to Data Transmission (Full-Duplex)" title="Direct link to Data Transmission (Full-Duplex)">​</a></h3>
<p>Once the WebSocket connection is established, both the client and server can exchange data through frames. These frames can carry either text or binary data, enabling efficient real-time communication.</p>
<div style="text-align:center"></div>
<ul>
<li><strong>Text Frames</strong>: UTF-8 encoded text data.</li>
<li><strong>Binary Frames</strong>: Data such as images or videos.</li>
</ul>
<p>Both parties can send and receive data simultaneously over the same connection, making communication faster and more efficient than traditional request-response models.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="connection-closure">Connection Closure<a href="#connection-closure" class="hash-link" aria-label="Direct link to Connection Closure" title="Direct link to Connection Closure">​</a></h3>
<p>Either the client or server can initiate the closure of the WebSocket connection. When this happens, a close frame is exchanged, signaling that the connection is being terminated.</p>
<div style="text-align:center"></div>
<ul>
<li><strong>Step 1</strong>: The client or server sends a close frame to indicate that the connection should be closed.</li>
<li><strong>Step 2</strong>: The receiving party responds with its own close frame, confirming the termination.</li>
<li><strong>Step 3</strong>: The connection is fully closed after both parties have acknowledged.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="internal-flow-of-websocket-communication">Internal Flow of WebSocket Communication<a href="#internal-flow-of-websocket-communication" class="hash-link" aria-label="Direct link to Internal Flow of WebSocket Communication" title="Direct link to Internal Flow of WebSocket Communication">​</a></h2>
<p>The following diagram illustrates the internal flow of WebSocket communication between the client and server:</p>
<div style="text-align:center"></div>
<p>This flow illustrates the following process:</p>
<ol>
<li>The client sends an HTTP request to the server to upgrade to WebSocket.</li>
<li>The server responds by upgrading the connection to WebSocket.</li>
<li>Both the client and server can now send and receive data frames, enabling real-time, full-duplex communication.</li>
<li>If needed, either side can initiate the closure of the connection by sending a close frame.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="websocket-frame">WebSocket Frame<a href="#websocket-frame" class="hash-link" aria-label="Direct link to WebSocket Frame" title="Direct link to WebSocket Frame">​</a></h2>
<p>A <strong>WebSocket Frame</strong> is the basic unit of data transfer in the WebSocket protocol. WebSocket communication uses frames to send and receive data between the client and the server once the connection is established. Each frame can carry either <strong>text data</strong> (UTF-8 encoded) or <strong>binary data</strong> (such as images or videos). The WebSocket protocol is designed for low-latency communication and allows the transmission of multiple frames in both directions (client-to-server and server-to-client) simultaneously.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="frame-structure">Frame Structure<a href="#frame-structure" class="hash-link" aria-label="Direct link to Frame Structure" title="Direct link to Frame Structure">​</a></h3>
<p>A WebSocket frame consists of several parts:</p>
<ol>
<li>
<p><strong>FIN, RSV1, RSV2, RSV3, and Opcode</strong>:</p>
<ul>
<li>These bits define the type and status of the frame.</li>
<li><strong>FIN (1 bit)</strong>: Indicates if this is the final frame in a message.</li>
<li><strong>RSV1, RSV2, RSV3 (1 bit each)</strong>: Reserved for future use; typically set to <code>0</code>.</li>
<li><strong>Opcode (4 bits)</strong>: Specifies the type of frame. Some common opcodes are:<!-- -->
<ul>
<li><code>0x1</code>: Text frame</li>
<li><code>0x2</code>: Binary frame</li>
<li><code>0x8</code>: Close frame</li>
<li><code>0x9</code>: Ping frame</li>
<li><code>0xA</code>: Pong frame</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Mask (1 bit)</strong>:</p>
<ul>
<li>Indicates whether the payload data is masked. In WebSocket communication, data sent from the client must be masked (the mask bit is <code>1</code>), while data sent from the server does not require masking.</li>
</ul>
</li>
<li>
<p><strong>Payload Length (7 bits or 7+16 bits or 7+64 bits)</strong>:</p>
<ul>
<li>Indicates the length of the payload data. If the payload length is 126 or 127, additional bytes are used to specify the length in 16 or 64 bits, respectively.</li>
</ul>
</li>
<li>
<p><strong>Masking Key (optional)</strong>:</p>
<ul>
<li>A 4-byte key used to mask the payload data. Only the client sends this masking key, which is XORed with the payload data.</li>
</ul>
</li>
<li>
<p><strong>Payload Data</strong>:</p>
<ul>
<li>The actual data being sent (text or binary). The size of this data depends on the payload length field.</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="frame-types">Frame Types<a href="#frame-types" class="hash-link" aria-label="Direct link to Frame Types" title="Direct link to Frame Types">​</a></h3>
<ol>
<li>
<p><strong>Text Frames</strong> (<code>0x1</code>):</p>
<ul>
<li>Used to send textual data (UTF-8 encoded).</li>
</ul>
</li>
<li>
<p><strong>Binary Frames</strong> (<code>0x2</code>):</p>
<ul>
<li>Used to send binary data, such as images, videos, or other non-textual content.</li>
</ul>
</li>
<li>
<p><strong>Close Frames</strong> (<code>0x8</code>):</p>
<ul>
<li>Used to close the WebSocket connection. The frame may contain a status code and an optional reason for the closure.</li>
</ul>
</li>
<li>
<p><strong>Ping and Pong Frames</strong> (<code>0x9</code> and <code>0xA</code>):</p>
<ul>
<li>These frames are used to keep the connection alive and verify that the connection is still open. A <code>Ping</code> frame is sent by one party, and a <code>Pong</code> frame is sent back as a response.</li>
</ul>
</li>
</ol>
<!-- -->
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-of-websocket-frame">Example of WebSocket Frame<a href="#example-of-websocket-frame" class="hash-link" aria-label="Direct link to Example of WebSocket Frame" title="Direct link to Example of WebSocket Frame">​</a></h3>
<ul>
<li><strong>Text Frame (Opcode <code>0x1</code>)</strong>:</li>
<li>The client sends a text message <code>Hello, Server!</code>.</li>
<li>This message is encoded in UTF-8 and sent as a text frame.</li>
<li><strong>Binary Frame (Opcode <code>0x2</code>)</strong>:</li>
<li>The client sends an image in binary format.</li>
<li>The binary data is split into multiple frames if necessary.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="frame-processing">Frame Processing<a href="#frame-processing" class="hash-link" aria-label="Direct link to Frame Processing" title="Direct link to Frame Processing">​</a></h3>
<ol>
<li><strong>Frame Parsing</strong>:</li>
</ol>
<ul>
<li>The receiver reads the header of the frame to understand its type (text, binary, close, ping, pong).</li>
<li>If the frame contains data, the receiver processes the payload accordingly.</li>
</ul>
<ol start="2">
<li><strong>Masking</strong>:</li>
</ol>
<ul>
<li>If the frame is from the client, the receiver must apply the masking key (XOR operation) to the payload data to retrieve the original content.</li>
<li>For the server, no masking is required, so the data is used directly.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="use-of-frames-in-websocket-communication">Use of Frames in WebSocket Communication<a href="#use-of-frames-in-websocket-communication" class="hash-link" aria-label="Direct link to Use of Frames in WebSocket Communication" title="Direct link to Use of Frames in WebSocket Communication">​</a></h3>
<p>Frames enable <strong>efficient data transmission</strong> by splitting larger messages into smaller chunks. This makes it possible to handle large amounts of data while maintaining low-latency communication. Moreover, frames allow for <strong>control messages</strong> like ping/pong or connection closure, ensuring the integrity and lifespan of the connection.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-cases-of-websocket">Use Cases of WebSocket<a href="#use-cases-of-websocket" class="hash-link" aria-label="Direct link to Use Cases of WebSocket" title="Direct link to Use Cases of WebSocket">​</a></h2>
<ol>
<li><strong>Real-time Communication</strong>:</li>
</ol>
<ul>
<li>WebSocket is perfect for applications that require continuous data transfer, such as live chat apps, collaborative tools, and instant messaging platforms.</li>
</ul>
<ol start="2">
<li><strong>Online Games</strong>:</li>
</ol>
<ul>
<li>In multiplayer games, WebSocket allows real-time updates and actions between players and the game server, providing an interactive gaming experience.</li>
</ul>
<ol start="3">
<li><strong>Live Updates</strong>:</li>
</ol>
<ul>
<li>WebSocket is used in stock market applications, sports apps, and news platforms, where real-time data feeds are critical.</li>
</ul>
<ol start="4">
<li><strong>IoT Devices</strong>:</li>
</ol>
<ul>
<li>WebSocket is often used to establish persistent communication channels between IoT devices and central servers, where real-time data exchange is necessary.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="advantages-of-websocket">Advantages of WebSocket<a href="#advantages-of-websocket" class="hash-link" aria-label="Direct link to Advantages of WebSocket" title="Direct link to Advantages of WebSocket">​</a></h2>
<ul>
<li><strong>Efficiency</strong>: Reduces overhead by maintaining a persistent connection.</li>
<li><strong>Speed</strong>: Lower latency due to the lack of connection overhead.</li>
<li><strong>Scalability</strong>: WebSocket allows efficient communication even with large numbers of clients.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="disadvantages-of-websocket">Disadvantages of WebSocket<a href="#disadvantages-of-websocket" class="hash-link" aria-label="Direct link to Disadvantages of WebSocket" title="Direct link to Disadvantages of WebSocket">​</a></h2>
<ul>
<li><strong>Complexity</strong>: Managing multiple WebSocket connections across different servers can be challenging.</li>
<li><strong>Firewall/Proxy Issues</strong>: WebSocket connections may face issues with firewalls and proxies, which are typically configured for HTTP traffic.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/imdeepmind/imdeepmind.github.io/blob/main/docs/networking/protocols/websocket.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-01-15T15:04:29.000Z" itemprop="dateModified">Jan 15, 2025</time></b> by <b>Abhishek Chatterjee</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/networking/protocols/http"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">HTTP</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/networking/protocols/webrtc"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">WebRTC</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#key-features-of-websocket" class="table-of-contents__link toc-highlight">Key Features of WebSocket</a></li><li><a href="#how-websocket-works-internally" class="table-of-contents__link toc-highlight">How WebSocket Works Internally</a><ul><li><a href="#websocket-handshake" class="table-of-contents__link toc-highlight">WebSocket Handshake</a></li><li><a href="#data-transmission-full-duplex" class="table-of-contents__link toc-highlight">Data Transmission (Full-Duplex)</a></li><li><a href="#connection-closure" class="table-of-contents__link toc-highlight">Connection Closure</a></li></ul></li><li><a href="#internal-flow-of-websocket-communication" class="table-of-contents__link toc-highlight">Internal Flow of WebSocket Communication</a></li><li><a href="#websocket-frame" class="table-of-contents__link toc-highlight">WebSocket Frame</a><ul><li><a href="#frame-structure" class="table-of-contents__link toc-highlight">Frame Structure</a></li><li><a href="#frame-types" class="table-of-contents__link toc-highlight">Frame Types</a></li><li><a href="#example-of-websocket-frame" class="table-of-contents__link toc-highlight">Example of WebSocket Frame</a></li><li><a href="#frame-processing" class="table-of-contents__link toc-highlight">Frame Processing</a></li><li><a href="#use-of-frames-in-websocket-communication" class="table-of-contents__link toc-highlight">Use of Frames in WebSocket Communication</a></li></ul></li><li><a href="#use-cases-of-websocket" class="table-of-contents__link toc-highlight">Use Cases of WebSocket</a></li><li><a href="#advantages-of-websocket" class="table-of-contents__link toc-highlight">Advantages of WebSocket</a></li><li><a href="#disadvantages-of-websocket" class="table-of-contents__link toc-highlight">Disadvantages of WebSocket</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Notes</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://profile.fyi/imdeepmind" target="_blank" rel="noopener noreferrer" class="footer__link-item">Profile.fyi<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/imdeepmind" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://linkedin.com/in/imdeepmind" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.rocketapi.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Abhishek Chatterjee. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>